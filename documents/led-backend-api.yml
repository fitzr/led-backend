---
  openapi: "3.0.1"
  info: 
    title: "led-backend-api"
    version: "2020-02-19T09:41:44Z"
  servers: 
    - 
      url: "https://xxxxxxxxxx.execute-api.ap-northeast-1.amazonaws.com/{basePath}"
      variables: 
        basePath: 
          default: "/dev"
  paths: 
    /v1/leds/{thing_name}/state:
      get: 
        responses: 
          200: 
            description: "200 response"
            content: {}
          404: 
            description: "404 response"
            content: {}
          500: 
            description: "500 response"
            content: {}
        security: 
          - 
            api_key: []
      put: 
        requestBody: 
          content: 
            application/json: 
              schema: 
                $ref: "#/components/schemas/LEDState"
          required: true
        responses: 
          202: 
            description: "202 response"
            content: {}
          404: 
            description: "404 response"
            content: {}
          500: 
            description: "500 response"
            content: {}
        security: 
          - 
            api_key: []
  components:
    schemas: 
      LEDState:
        type: "object"
        properties: 
          brightness: 
            maximum: 100
            minimum: 0
            type: "number"
          color: 
            maxLength: 30
            minLength: 1
            type: "string"
          power: 
            pattern: "^(on|off)$"
            type: "string"
        additionalProperties: false
        description: "Validation schema for update state API."
    securitySchemes: 
      api_key: 
        type: "apiKey"
        name: "x-api-key"
        in: "header"
